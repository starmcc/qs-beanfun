"use strict";(self["webpackChunkQsBeanfunLogin"]=self["webpackChunkQsBeanfunLogin"]||[]).push([[727],{7203:function(t,e,a){a.r(e),a.d(e,{default:function(){return p}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-box"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"loginForm",staticClass:"login-box",attrs:{model:t.form,"label-width":"60px"}},[a("h3",{staticClass:"login-title"},[t._v("QsBeanfun")]),a("p",{staticClass:"login-description"},[t._v("仅支持港号登录")]),a("el-form-item",{attrs:{label:"账号",prop:"account",rules:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}]}},[a("el-autocomplete",{staticClass:"inline-input",staticStyle:{width:"280px"},attrs:{"fetch-suggestions":t.queryAccountSearch,placeholder:"输入邮箱账号.."},on:{select:t.handleSelectAccount},model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{staticStyle:{width:"280px"},attrs:{type:"password","show-password":!0,placeholder:"输入密码.."},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),a("el-row",{staticClass:"margin-bottom-15",attrs:{type:"flex",justify:"space-between"}},[a("el-link",{attrs:{target:"_blank"},on:{click:function(e){return t.windowOpen("https://bfweb.hk.beanfun.com/beanfun_web_ap/signup/preregistration.aspx?service=999999_T0")}}},[t._v("注册账号")]),a("el-checkbox",{attrs:{label:"记住账号"},on:{change:t.updateRecordActPwd},model:{value:t.recordActPwd,callback:function(e){t.recordActPwd=e},expression:"recordActPwd"}}),a("el-link",{attrs:{target:"_blank"},on:{click:function(e){return t.windowOpen("https://bfweb.hk.beanfun.com/member/forgot_pwd.aspx")}}},[t._v("忘记密码 ")])],1),a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",disabled:t.loginBtnStatus},on:{click:function(e){return t.submitLogin()}}},[t._v("登录 ")])],1)],1)},o=[],n=a(4993),r=a(3707),i=a(3105),c={name:"Login",data:()=>({loading:!1,form:{account:"",password:""},acts:[],recordActPwd:!1,loginBtnStatus:!1,restaurants:[]}),created(){let t=this;i.Z.getConfig("recordActPwd",(e=>{t.recordActPwd=e,i.Z.getAccounts((function(a){t.acts=a;for(const e of a)t.restaurants.push({value:e.act});e&&a.length>0&&(t.form.account=a[0].act,t.form.password=a[0].pwd)}))}))},methods:{queryAccountSearch(t,e){var a=this.restaurants,s=t?a.filter((e=>0===e.value.toLowerCase().indexOf(t.toLowerCase()))):a;e(s)},handleSelectAccount(t){let e=this.acts.find((e=>e.act===t.value));e&&(this.form.password=e.pwd)},submitLogin(){this.$refs["loginForm"].validate((t=>{if(!t)return!1;this.loginBtnStatus=!0,this.loading=!0,n.Z.login(this.form).then((t=>{if(this.loginBtnStatus=!1,this.loading=!1,1===t.code)return this.$message.success("登录成功"),void this.$router.push("/index");this.$message.error(t.msg)})).catch((t=>{console.info("请求异常",t),this.loading=!1}))}))},open(t){r.Z.webOpen({code:t}).then((t=>{console.info(t)}))},updateRecordActPwd(t){i.Z.setConfig("recordActPwd",t)},windowOpen(t){window.open(t)}}},l=c,u=a(1001),d=(0,u.Z)(l,s,o,!1,null,"ff5ca30c",null),p=d.exports},3707:function(t,e,a){var s=a(4408);const o=t=>(0,s.Z)("GET",t,"/api/base/web_open"),n=t=>(0,s.Z)("GET",t,"/api/base/get_rates"),r=t=>(0,s.Z)("GET",t,"/api/base/set_game_path"),i=t=>(0,s.Z)("POST",t,"/api/base/start_game"),c=t=>(0,s.Z)("POST",t,"/api/base/auto_lunshao");e["Z"]={webOpen:o,getRates:n,setGamePath:r,startGame:i,autoLunshao:c}},4993:function(t,e,a){var s=a(4408);const o=t=>(0,s.Z)("POST",t,"/api/user/login"),n=t=>(0,s.Z)("GET",t,"/api/user/get_account_info"),r=t=>(0,s.Z)("POST",t,"/api/user/select_account"),i=t=>(0,s.Z)("POST",t,"/api/user/add_account"),c=t=>(0,s.Z)("POST",t,"/api/user/edit_account"),l=t=>(0,s.Z)("GET",t,"/api/user/get_points"),u=t=>(0,s.Z)("POST",t,"/api/user/get_dynamic_password"),d=t=>(0,s.Z)("GET",t,"/api/user/login_out");e["Z"]={login:o,getAccountInfo:n,selectAccount:r,addAccount:i,editAccount:c,getPoints:l,getDynamicPassword:u,loginOut:d}}}]);
//# sourceMappingURL=727.a3c8e1a3.js.map
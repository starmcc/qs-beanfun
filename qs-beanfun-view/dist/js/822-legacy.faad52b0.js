(self["webpackChunkQsBeanfunLogin"]=self["webpackChunkQsBeanfunLogin"]||[]).push([[822],{3822:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return m}});var r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"bg-box"},[e("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"loginForm",staticClass:"login-box",attrs:{model:t.form,"label-width":"60px"}},[e("h3",{staticClass:"login-title"},[t._v("QsBeanfun")]),e("p",{staticClass:"login-description"},[t._v("仅支持港号登录")]),e("el-form-item",{attrs:{label:"账号",prop:"account",rules:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}]}},[e("el-autocomplete",{staticClass:"inline-input",staticStyle:{width:"280px"},attrs:{"fetch-suggestions":t.queryAccountSearch,placeholder:"输入邮箱账号.."},on:{select:t.handleSelectAccount},model:{value:t.form.account,callback:function(n){t.$set(t.form,"account",n)},expression:"form.account"}})],1),e("el-form-item",{attrs:{label:"密码",prop:"password"}},[e("el-input",{staticStyle:{width:"280px"},attrs:{type:"password","show-password":!0,placeholder:"输入密码.."},model:{value:t.form.password,callback:function(n){t.$set(t.form,"password",n)},expression:"form.password"}})],1),e("el-row",{staticClass:"margin-bottom-15",attrs:{type:"flex",justify:"space-between"}},[e("el-link",{attrs:{target:"_blank"},on:{click:function(n){return t.windowOpen("https://bfweb.hk.beanfun.com/beanfun_web_ap/signup/preregistration.aspx?service=999999_T0")}}},[t._v("注册账号")]),e("el-checkbox",{attrs:{label:"记住账号"},on:{change:t.updateRecordActPwd},model:{value:t.recordActPwd,callback:function(n){t.recordActPwd=n},expression:"recordActPwd"}}),e("el-link",{attrs:{target:"_blank"},on:{click:function(n){return t.windowOpen("https://bfweb.hk.beanfun.com/member/forgot_pwd.aspx")}}},[t._v("忘记密码 ")])],1),e("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",disabled:t.loginBtnStatus},on:{click:function(n){return t.submitLogin()}}},[t._v("登录 ")])],1)],1)},o=[];e(2526),e(1817),e(1539),e(2165),e(8783),e(3948),e(1703),e(7042),e(8309),e(1038),e(4916),e(7601);function a(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function i(t,n){if(t){if("string"===typeof t)return a(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?a(t,n):void 0}}function c(t,n){var e="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=i(t))||n&&t&&"number"===typeof t.length){e&&(t=e);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,s=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return c=t.done,t},e:function(t){s=!0,a=t},f:function(){try{c||null==e["return"]||e["return"]()}finally{if(s)throw a}}}}e(7327),e(9826);var s=e(4993),u=e(3707),l=e(9091),f={name:"Login",data:function(){return{loading:!1,form:{account:"",password:""},acts:[],recordActPwd:!1,loginBtnStatus:!1,restaurants:[]}},created:function(){var t=this;l.Z.getConfig("recordActPwd",(function(n){t.recordActPwd=n,l.Z.getAccounts((function(e){t.acts=e;var r,o=c(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;t.restaurants.push({value:a.act})}}catch(i){o.e(i)}finally{o.f()}n&&e.length>0&&(t.form.account=e[0].act,t.form.password=e[0].pwd)}))}))},methods:{queryAccountSearch:function(t,n){var e=this.restaurants,r=t?e.filter((function(n){return 0===n.value.toLowerCase().indexOf(t.toLowerCase())})):e;n(r)},handleSelectAccount:function(t){var n=this.acts.find((function(n){return n.act===t.value}));n&&(this.form.password=n.pwd)},submitLogin:function(){var t=this;this.$refs["loginForm"].validate((function(n){if(!n)return!1;t.loginBtnStatus=!0,t.loading=!0,s.Z.login(t.form).then((function(n){if(t.loginBtnStatus=!1,t.loading=!1,1===n.code)return t.$message.success("登录成功"),void t.$router.push("/index");t.$message.error(n.msg)})).catch((function(n){console.info("请求异常",n),t.loading=!1}))}))},open:function(t){u.Z.webOpen({code:t}).then((function(t){console.info(t)}))},updateRecordActPwd:function(t){l.Z.setConfig("recordActPwd",t)},windowOpen:function(t){window.open(t)}}},d=f,p=e(1001),g=(0,p.Z)(d,r,o,!1,null,"ff5ca30c",null),m=g.exports},1038:function(t,n,e){var r=e(2109),o=e(8457),a=e(7072),i=!a((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:i},{from:o})},3707:function(t,n,e){"use strict";var r=e(4408),o=function(t){return(0,r.Z)("GET",t,"/api/base/web_open")},a=function(t){return(0,r.Z)("GET",t,"/api/base/get_rates")},i=function(t){return(0,r.Z)("GET",t,"/api/base/set_game_path")},c=function(t){return(0,r.Z)("POST",t,"/api/base/start_game")},s=function(t){return(0,r.Z)("POST",t,"/api/base/auto_lunshao")};n["Z"]={webOpen:o,getRates:a,setGamePath:i,startGame:c,autoLunshao:s}},4993:function(t,n,e){"use strict";var r=e(4408),o=function(t){return(0,r.Z)("POST",t,"/api/user/login")},a=function(t){return(0,r.Z)("GET",t,"/api/user/get_account_info")},i=function(t){return(0,r.Z)("POST",t,"/api/user/select_account")},c=function(t){return(0,r.Z)("POST",t,"/api/user/add_account")},s=function(t){return(0,r.Z)("POST",t,"/api/user/edit_account")},u=function(t){return(0,r.Z)("GET",t,"/api/user/get_points")},l=function(t){return(0,r.Z)("POST",t,"/api/user/get_dynamic_password")},f=function(t){return(0,r.Z)("GET",t,"/api/user/login_out")};n["Z"]={login:o,getAccountInfo:a,selectAccount:i,addAccount:c,editAccount:s,getPoints:u,getDynamicPassword:l,loginOut:f}}}]);
//# sourceMappingURL=822-legacy.faad52b0.js.map